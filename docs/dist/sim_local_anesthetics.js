(()=>{"use strict";var t={9:(t,e,r)=>{r.d(e,{A:()=>g});var s=r(354),n=r.n(s),o=r(314),i=r.n(o),a=r(417),l=r.n(a),u=new URL(r(178),r.b),h=i()(n()),c=l()(u);h.push([t.id,`@media screen and (orientation: landscape){\n    div.forPortrait {\n        display: none;\n    }\n    div.forLandscape {\n        display: flex;\n    }\n}\n\n@media screen and (orientation: portrait){\n    div.forLandscape {\n        display: none;\n    }\n    div.forPortrait {\n        font-size: 60px;\n        color: #00008B;\n        margin: 200px 20px;\n    }\n}\n\nhtml {\n    text-align: center;\n    font-family: sans-serif;\n    background: mintcream;\n}\n\n#left {\n    margin-left: auto;\n}\n#right {\n    margin-right: auto;\n}\n\n#lang {\n    font-size: 21px;\n    padding: 5px;\n    margin-top: 10px;\n}\n#lang > label {\n    display: block;\n    padding: 5px;\n}\n\n#buttons {\n    padding: 5px;\n}\n#buttons > label {\n    display: block;\n}\n\n#timer {\n    font-family: monospace;\n    font-size: 60px;\n    margin: 10px;\n    margin-top: 15px;\n    margin-bottom: 15px;\n}\n\n#slider {\n    margin-top: 10px;\n    width: 300px;\n}\n\n#canvas {\n    touch-action: pan-x pan-y;\n    background-image: url(${c});\n    background-repeat: no-repeat;\n    background-size:contain;\n    width: 481px;\n    height: 268px;\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n#response {\n    font-size: 42px;\n}\n\n#version {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    font-size: 18px;\n    color: gray;\n}\n\n\nbutton {\n    width: 250px;\n    height: 40px;\n    font-size: 20px;\n    border-radius: 10px;\n    border: 2px #808080 solid;\n    cursor: pointer;\n    margin: 3px;\n}\n#start {\n    height: 60px;\n    background-color: cyan;\n}\n\nselect {\n  font-size: 20px;\n}\n\n`,"",{version:3,sources:["webpack://./src/css/style.css"],names:[],mappings:"AAAA;IACI;QACI,aAAa;IACjB;IACA;QACI,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,aAAa;IACjB;IACA;QACI,eAAe;QACf,cAAc;QACd,kBAAkB;IACtB;AACJ;;AAEA;IACI,kBAAkB;IAClB,uBAAuB;IACvB,qBAAqB;AACzB;;AAEA;IACI,iBAAiB;AACrB;AACA;IACI,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,YAAY;IACZ,gBAAgB;AACpB;AACA;IACI,cAAc;IACd,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;AACA;IACI,cAAc;AAClB;;AAEA;IACI,sBAAsB;IACtB,eAAe;IACf,YAAY;IACZ,gBAAgB;IAChB,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,yBAAyB;IACzB,yDAA6C;IAC7C,4BAA4B;IAC5B,uBAAuB;IACvB,YAAY;IACZ,aAAa;IACb,gBAAgB;IAChB,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,gBAAgB;IAChB,mBAAmB;IACnB,eAAe;IACf,WAAW;AACf;;;AAGA;IACI,YAAY;IACZ,YAAY;IACZ,eAAe;IACf,mBAAmB;IACnB,yBAAyB;IACzB,eAAe;IACf,WAAW;AACf;AACA;IACI,YAAY;IACZ,sBAAsB;AAC1B;;AAEA;EACE,eAAe;AACjB",sourcesContent:["@media screen and (orientation: landscape){\n    div.forPortrait {\n        display: none;\n    }\n    div.forLandscape {\n        display: flex;\n    }\n}\n\n@media screen and (orientation: portrait){\n    div.forLandscape {\n        display: none;\n    }\n    div.forPortrait {\n        font-size: 60px;\n        color: #00008B;\n        margin: 200px 20px;\n    }\n}\n\nhtml {\n    text-align: center;\n    font-family: sans-serif;\n    background: mintcream;\n}\n\n#left {\n    margin-left: auto;\n}\n#right {\n    margin-right: auto;\n}\n\n#lang {\n    font-size: 21px;\n    padding: 5px;\n    margin-top: 10px;\n}\n#lang > label {\n    display: block;\n    padding: 5px;\n}\n\n#buttons {\n    padding: 5px;\n}\n#buttons > label {\n    display: block;\n}\n\n#timer {\n    font-family: monospace;\n    font-size: 60px;\n    margin: 10px;\n    margin-top: 15px;\n    margin-bottom: 15px;\n}\n\n#slider {\n    margin-top: 10px;\n    width: 300px;\n}\n\n#canvas {\n    touch-action: pan-x pan-y;\n    background-image: url(../images/fig_back.svg);\n    background-repeat: no-repeat;\n    background-size:contain;\n    width: 481px;\n    height: 268px;\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n}\n\n#response {\n    font-size: 42px;\n}\n\n#version {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    font-size: 18px;\n    color: gray;\n}\n\n\nbutton {\n    width: 250px;\n    height: 40px;\n    font-size: 20px;\n    border-radius: 10px;\n    border: 2px #808080 solid;\n    cursor: pointer;\n    margin: 3px;\n}\n#start {\n    height: 60px;\n    background-color: cyan;\n}\n\nselect {\n  font-size: 20px;\n}\n\n"],sourceRoot:""}]);const g=h},56:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function r(t){for(var r=-1,s=0;s<e.length;s++)if(e[s].identifier===t){r=s;break}return r}function s(t,s){for(var o={},i=[],a=0;a<t.length;a++){var l=t[a],u=s.base?l[0]+s.base:l[0],h=o[u]||0,c="".concat(u," ").concat(h);o[u]=h+1;var g=r(c),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==g)e[g].references++,e[g].updater(m);else{var f=n(m,s);s.byIndex=a,e.splice(a,0,{identifier:c,updater:f,references:1})}i.push(c)}return i}function n(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,n){var o=s(t=t||[],n=n||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var a=r(o[i]);e[a].references--}for(var l=s(t,n),u=0;u<o.length;u++){var h=r(o[u]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}o=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},162:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var s=r(72),n=r.n(s),o=r(825),i=r.n(o),a=r(659),l=r.n(a),u=r(56),h=r.n(u),c=r(540),g=r.n(c),m=r(113),f=r.n(m),p=r(9),w={};w.styleTagTransform=f(),w.setAttributes=h(),w.insert=l().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=g(),n()(p.A,w);const d=p.A&&p.A.locals?p.A.locals:void 0},178:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNjcuMTk1NzkzbW0iCiAgIGhlaWdodD0iMzcuNDUyNzYzbW0iCiAgIGlkPSJzdmc0MDY4IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMS4yICgwYTAwY2Y1MzM5LCAyMDIyLTAyLTA0KSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZmlnX2JhY2suc3ZnIgogICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9Ii9ob21lL2FyYS9naHEvZ2l0aHViLmNvbS90b3NoaS1hcmEvc2ltbGEtdHMvc3JjL2ZpZy9maWdfYmFjay5wbmciCiAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIxODEuNzU0MjkiCiAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIxODEuNzU0MjkiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0MDcwIiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIzLjk1OTc5OCIKICAgICBpbmtzY2FwZTpjeD0iODkuMzk4NSIKICAgICBpbmtzY2FwZTpjeT0iMjguNzg5MzQ3IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSI5NDYiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTA0MCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMzAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIj4KICAgIDxpbmtzY2FwZTpncmlkCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBpZD0iZ3JpZDMwMTgiCiAgICAgICBvcmlnaW54PSItMjA1LjUzNDA5IgogICAgICAgb3JpZ2lueT0iLTI5Ny45NzAxNyIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE0MDczIj4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSLjg6zjgqTjg6Tjg7wgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwNS41MzQwOSwtMjk3Ljk3MDE3KSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAyNzkuNTYxMDcsNDEzLjY0NzY4IGMgLTEuNDQ5OTYsLTYuMjM0OTggLTE2Ljg3NTk2LC00LjA2ODQ4IC0zOC40NzM1OCwtMTAuNTkwOTQgLTIxLjU5NzYzLC02LjUyMjQ3IC0zNC40NDYwOCwtMTYuMTIxNDYgLTM0LjU1MywtMzEuNDg2OTkgLTAuMTA2OTIsLTE1LjM2NTU0IDIxLjU3MTksLTI5LjA3MDkxIDM1LjM3NTk0LC0zNy42MjM5NiAxMy44MDQwMywtOC41NTMwMyAyMy4wMzExNiwtOS42NDI4NSAzMC4wNjc5NiwtMTIuOTQzNTkgNy4wMzY4LC0zLjMwMDczIDEzLjAyMTYxLC0xLjAwMjIgMTIuMzg3ODEsLTYuMzAzMzggLTAuNjMzOCwtNS4zMDExOCAtMjEuOTQ5NTUsLTIuNjUzMiAtMjEuNTY2NjEsLTguMTI5NTYgMC4zODI5NSwtNS40NzYzNyAxNS43NTExLC02LjgyMjMyIDI3LjY0MjQ1LC02LjMyMzIyIDExLjg5MTM1LDAuNDk5MSAxMC44MTIyLDQuMDM5NiAyMC4xODUwOCwxMS44OTY3OCA5LjM3Mjg4LDcuODU3MTggMjIuODA3OTgsMy4xNDE5NiA0Mi43NTkyNiw0LjUzNzA5IDE5Ljk1MTI5LDEuMzk1MTMgMzcuODc3NDYsMS41MzQxNSA0Ny4yNDU1NCwyLjQyNzEyIEMgNDEwLDMyMCA0MjAsMzIwIDQxNi41Njg4MSwzMTUuMTkzODcgNDEzLjEzNzYyLDMxMC4zODc3NCAzOTAsMzE1IDM5MS43MzY3MSwzMDUuMDI0MjYgYyAxLjczNjcxLC05Ljk3NTc0IDM5Ljk1MDE3LC01LjI3NjIgNDcuODM3NzUsLTIuMzY2MzQgNy44ODc1NywyLjkwOTg4IDEzLjQwNTM3LDIzLjMyODEyIDE3LjE2MTAyLDQxLjI5NzY5IDMuNzU1NjYsMTcuOTY5NTggMS41LDUwLjIyNjk5IC03LjIyODkxLDY5LjY2NTQ0IC04LjcyODkzLDE5LjQzODQ2IC0yMi45NzAyMSwyMy42Nzc2OCAtMzUuNDU3MDEsMjQuNjkwNDYgLTEyLjQ4Njc5LDEuMDEyNzkgLTI1LjExNjYsLTEuNjIxNDYgLTI0LjU4MzA4LC04LjA5NzgzIDAuNTMzNTIsLTYuNDc2MzcgMjkuNTUwMSwtMi4yODg3NSAzMC4wNjA3OSwtOS41OTE5OCAwLjUxMDY5LC03LjMwMzIzIC0xMC4yMjk3NCwtNC4yNzc4NiAtMjMuMDA5ODUsLTQuMTk3MjQgLTEyLjc4MDExLDAuMDgwNiAtMjIuODMxOTEsMS45MTkwOSAtNDUuMTE4ODYsMC4zNjA2MyAtMjIuMjg2OTYsLTEuNTU4NDYgLTQ2Ljg3ODMxLC01LjkzMjgxIC00OC4yNzgxMywtMS42NDcxNCAtMS4zOTk4Miw0LjI4NTY3IC0yLjM3NjQ3LDcuMzQ1NzcgLTEwLjI5MDMyLDEwLjU0NTE1IC03LjkxMzg1LDMuMTk5MzkgLTMyLjYwNzQ1LDQuNzc1MiAtMzIuMDI5LC0zLjQ5Njk4IDAuNTc4NDQsLTguMjcyMTggMjAuMjA5OTIsLTIuMzAzNDcgMTguNzU5OTYsLTguNTM4NDQgeiIKICAgICAgIGlkPSJwYXRoMjk4OSIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9Inp6enp6enp6enp6enp6enp6enp6enp6enoiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAyMTkuOTM2MTQsMzYxLjc0OTg5IGMgMTAuMTA2NzYsLTEuNzc1MjUgMTAuMzY4NDQsLTYuNzY4NCAxMi44ODk5NCwtMTEuNjQzMTEiCiAgICAgICBpZD0icGF0aDM3ODEiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDIyMC45MDI0NywzODEuNTI1OCBjIDkuMDkyMzQsLTEuNTI2MjMgMTMuNTA4OTEsNC43MTM0NiAxNS41MDcwNSw5LjgyNTA0IgogICAgICAgaWQ9InBhdGgzNzgxLTkiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDI0OS4xNjk2MiwzMzguOTQ2ODQgYyAwLDAgLTguNTY0NzMsMTAuNTY2MjMgMS4zNjkyMywxMi4wODgyMiA5LjkzMzk2LDEuNTIxOTkgMTAuNTA5NjUsLTkuNDYyOTMgMTAuNTA5NjUsLTkuNDYyOTMgMCwwIDAuNDc1MjcsMTAuMDM4NjMgOS42MTk5NSw3LjUxMzc2IDkuMTQ0NjcsLTIuNTI0ODYgNS44ODI4NiwtMTYuNzE1MDIgNS44ODI4NiwtMTYuNzE1MDIiCiAgICAgICBpZD0icGF0aDM4MDEiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjemN6YyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDI1MC4xODA5OSwzOTYuMDc4MDYgYyAwLDAgLTMuNTIzNSwtOS4xOTcwMSA0LjUxNzg4LC05Ljc3Njk1IDguMDQxMzcsLTAuNTc5OTQgNy42MjI2OCw3LjQwOTEgNy42MjI2OCw3LjQwOTEgMCwwIDMuNTE5MjUsLTkuODI5MjkgMTAuMjQ3OTgsLTQuNDY5NzkgNi43Mjg3Miw1LjM1OTUgLTAuNjgwMzcsMTIuOTgyMTggLTAuNjgwMzcsMTIuOTgyMTgiCiAgICAgICBpZD0icGF0aDM4MDEtNCIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImN6Y3pjIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmb250LXZhcmlhdGlvbi1zZXR0aW5nczpub3JtYWw7b3BhY2l0eToxO2ZpbGw6I2Y0ZDdkNztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4zMzMzMzMzMztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjE7c3RvcC1jb2xvcjojMDAwMDAwO3N0b3Atb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3Q2Njg5IgogICAgICAgd2lkdGg9IjE0NSIKICAgICAgIGhlaWdodD0iODAiCiAgICAgICB4PSIyODUiCiAgICAgICB5PSIzMjUiCiAgICAgICByeT0iMTAiIC8+CiAgICA8dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHN0eWxlPSJmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxMDAlO2ZvbnQtZmFtaWx5OidOb3RvIFNhbnMgQ0pLIEpQJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidOb3RvIFNhbnMgQ0pLIEpQLCBOb3JtYWwnO3RleHQtYWxpZ246Y2VudGVyO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O3dyaXRpbmctbW9kZTpsci10Yjt0ZXh0LWFuY2hvcjptaWRkbGU7ZmlsbDojNGQ0ZDRkO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxcHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIHg9IjMyMS41MTU5NiIKICAgICAgIHk9IjMzNy4yNTE0IgogICAgICAgaWQ9InRleHQyMjYxIj48dHNwYW4KICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgaWQ9InRzcGFuMjI1OSIKICAgICAgICAgeD0iMzIxLjUxNTk2IgogICAgICAgICB5PSIzMzcuMjUxNCIKICAgICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6J1RlWCBHeXJlIEhlcm9zJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidUZVggR3lyZSBIZXJvcyc7ZmlsbDojNGQ0ZDRkO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIj5TYWxpbmU8L3RzcGFuPjwvdGV4dD4KICAgIDx0ZXh0CiAgICAgICB4bWw6c3BhY2U9InByZXNlcnZlIgogICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2xpbmUtaGVpZ2h0OjEwMCU7Zm9udC1mYW1pbHk6J05vdG8gU2FucyBDSksgSlAnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J05vdG8gU2FucyBDSksgSlAsIE5vcm1hbCc7dGV4dC1hbGlnbjpjZW50ZXI7bGV0dGVyLXNwYWNpbmc6MHB4O3dvcmQtc3BhY2luZzowcHg7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOm1pZGRsZTtmaWxsOiM0ZDRkNGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgeD0iMzU4LjkyNTQyIgogICAgICAgeT0iMzM3LjI4NzQxIgogICAgICAgaWQ9InRleHQyMjYxLTMiPjx0c3BhbgogICAgICAgICBzb2RpcG9kaTpyb2xlPSJsaW5lIgogICAgICAgICBpZD0idHNwYW4yMjU5LTYiCiAgICAgICAgIHg9IjM1OC45MjU0MiIKICAgICAgICAgeT0iMzM3LjI4NzQxIgogICAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6MTJweDtmb250LWZhbWlseTonVGVYIEd5cmUgSGVyb3MnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J1RlWCBHeXJlIEhlcm9zJztmaWxsOiM0ZDRkNGQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiPlBybzwvdHNwYW4+PC90ZXh0PgogICAgPHRleHQKICAgICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgICBzdHlsZT0iZm9udC1zaXplOjEycHg7bGluZS1oZWlnaHQ6MTAwJTtmb250LWZhbWlseTonTm90byBTYW5zIENKSyBKUCc7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonTm90byBTYW5zIENKSyBKUCwgTm9ybWFsJzt0ZXh0LWFsaWduOmNlbnRlcjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6bWlkZGxlO2ZpbGw6IzRkNGQ0ZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICB4PSIzOTYuMjc1MzYiCiAgICAgICB5PSIzMzcuMjg3NDEiCiAgICAgICBpZD0idGV4dDIyNjEtMy03Ij48dHNwYW4KICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgaWQ9InRzcGFuMjI1OS02LTUiCiAgICAgICAgIHg9IjM5Ni4yNzUzNiIKICAgICAgICAgeT0iMzM3LjI4NzQxIgogICAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6MTJweDtmb250LWZhbWlseTonVGVYIEd5cmUgSGVyb3MnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J1RlWCBHeXJlIEhlcm9zJztmaWxsOiM0ZDRkNGQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiPkxpZDwvdHNwYW4+PC90ZXh0PgogICAgPHRleHQKICAgICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgICBzdHlsZT0iZm9udC1zaXplOjEycHg7bGluZS1oZWlnaHQ6MTAwJTtmb250LWZhbWlseTonTm90byBTYW5zIENKSyBKUCc7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonTm90byBTYW5zIENKSyBKUCwgTm9ybWFsJzt0ZXh0LWFsaWduOmNlbnRlcjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6bWlkZGxlO2ZpbGw6IzRkNGQ0ZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICB4PSIzMjEuMjkzOTgiCiAgICAgICB5PSIzOTkuODk3MTMiCiAgICAgICBpZD0idGV4dDIyNjEtMzUiPjx0c3BhbgogICAgICAgICBzb2RpcG9kaTpyb2xlPSJsaW5lIgogICAgICAgICBpZD0idHNwYW4yMjU5LTYyIgogICAgICAgICB4PSIzMjEuMjkzOTgiCiAgICAgICAgIHk9IjM5OS44OTcxMyIKICAgICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6J1RlWCBHeXJlIEhlcm9zJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidUZVggR3lyZSBIZXJvcyc7ZmlsbDojNGQ0ZDRkO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIj5NZXA8L3RzcGFuPjwvdGV4dD4KICAgIDx0ZXh0CiAgICAgICB4bWw6c3BhY2U9InByZXNlcnZlIgogICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2xpbmUtaGVpZ2h0OjEwMCU7Zm9udC1mYW1pbHk6J05vdG8gU2FucyBDSksgSlAnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J05vdG8gU2FucyBDSksgSlAsIE5vcm1hbCc7dGV4dC1hbGlnbjpjZW50ZXI7bGV0dGVyLXNwYWNpbmc6MHB4O3dvcmQtc3BhY2luZzowcHg7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOm1pZGRsZTtmaWxsOiM0ZDRkNGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgeD0iMzU4LjkxOTQiCiAgICAgICB5PSIzOTkuODk3MTMiCiAgICAgICBpZD0idGV4dDIyNjEtMy05Ij48dHNwYW4KICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgaWQ9InRzcGFuMjI1OS02LTEiCiAgICAgICAgIHg9IjM1OC45MTk0IgogICAgICAgICB5PSIzOTkuODk3MTMiCiAgICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OidUZVggR3lyZSBIZXJvcyc7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonVGVYIEd5cmUgSGVyb3MnO2ZpbGw6IzRkNGQ0ZDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZSI+QnVwPC90c3Bhbj48L3RleHQ+CiAgICA8dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHN0eWxlPSJmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxMDAlO2ZvbnQtZmFtaWx5OidOb3RvIFNhbnMgQ0pLIEpQJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidOb3RvIFNhbnMgQ0pLIEpQLCBOb3JtYWwnO3RleHQtYWxpZ246Y2VudGVyO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O3dyaXRpbmctbW9kZTpsci10Yjt0ZXh0LWFuY2hvcjptaWRkbGU7ZmlsbDojNGQ0ZDRkO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxcHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIHg9IjM5OS45ODEzNSIKICAgICAgIHk9IjM5OS44OTcxMyIKICAgICAgIGlkPSJ0ZXh0MjI2MS0zLTctMiI+PHRzcGFuCiAgICAgICAgIHNvZGlwb2RpOnJvbGU9ImxpbmUiCiAgICAgICAgIGlkPSJ0c3BhbjIyNTktNi01LTciCiAgICAgICAgIHg9IjM5OS45ODEzNSIKICAgICAgICAgeT0iMzk5Ljg5NzEzIgogICAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6MTJweDtmb250LWZhbWlseTonVGVYIEd5cmUgSGVyb3MnOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J1RlWCBHeXJlIEhlcm9zJztmaWxsOiM0ZDRkNGQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiPkxpZCtBZHI8L3RzcGFuPjwvdGV4dD4KICA8L2c+Cjwvc3ZnPgo="},306:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getResponse=e.getProbabilityDrug=e.getProbability=e.getCircleNumber=e.isInCircle=void 0;const s=r(324),n=r(482);function o(t,e,r){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)<=Math.pow(r,2)}function i(t,e){let r=100-(1-e[2])*t;return(0,n.phi)((r-e[0])/e[1],!0)}function a(t,e,r){let n;if(0==t)n=e<30?.99:1;else if(n=i(e,r[t]),n<s.ProbThreshold)return 0;return n}e.isInCircle=o,e.getCircleNumber=function(t,e,r){let s=-1;for(let n=0;n<e.length;n++)o(t,e[n],r)&&(s=n);return s},e.getProbability=i,e.getProbabilityDrug=a,e.getResponse=function(t,e,r){const s=a(t,e,r);return Math.random()<=s}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",s=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),s&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),s&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,s,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var u=0;u<t.length;u++){var h=[].concat(t[u]);s&&i[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),r&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=r):h[2]=r),n&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=n):h[4]="".concat(n)),e.push(h))}},e}},324:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProbThreshold=e.RrespondCenter=e.Rrespond=e.RnormalCenter=e.Rnormal=e.CENTERS=e.covarianceMatrix=e.MU0_adj=e.ADR=e.LOG_SIGMA0=e.MU0=void 0,e.MU0=[[75,8],[67,5],[43,6],[30,10]],e.LOG_SIGMA0=[[2.2,.4],[2.4,.4],[2.4,.4],[2.5,.5]],e.ADR=.7,e.MU0_adj=0,e.covarianceMatrix=[[1,.57,.47,.5,-.22,0,0,0],[.57,1,.53,.53,0,-.3,0,0],[.47,.53,1,.42,0,0,-.01,0],[.5,.53,.42,1,0,0,0,-.16],[-.22,0,0,0,1,.42,.34,.26],[0,-.3,0,0,.42,1,.41,.47],[0,0,-.01,0,.34,.41,1,.56],[0,0,0,-.16,.26,.47,.56,1]],e.CENTERS=[[218,100],[289,100],[360,100],[218,150],[289,150],[360,150]],e.Rnormal=20,e.RnormalCenter=3,e.Rrespond=18,e.RrespondCenter=2,e.ProbThreshold=.05},354:t=>{t.exports=function(t){var e=t[1],r=t[3];if(!r)return e;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),o="/*# ".concat(n," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},482:function(t,e,r){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.multivariateNormal=e.phi=void 0;const n=r(673),o=s(r(791));e.phi=function(t,e=!1){const r=t<0?-1:1,s=.7071067811865475*Math.abs(t),n=1/(1+.3275911*s);return.5*(1+(e?-1:1)*r*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-s*s)))},e.multivariateNormal=function(t,e,r){const s=t.length,i=new n.EigenvalueDecomposition(e),a=i.realEigenvalues,l=i.eigenvectorMatrix,u=l.transpose(),h=u.clone();for(let t=0;t<s;t++){const e=u.getRow(t).map((e=>e*Math.sqrt(Math.max(a[t],0))));h.setRow(t,e)}const c=l.mmul(h),g=o.default.normal(),m=Array.from({length:r*s},(()=>g())),f=new n.Matrix(function(t,e){const r=[];for(let s=0;s<t.length;s+=e)r.push(t.slice(s,s+e));return r}(m,s)).mmul(c);for(let e=0;e<s;e++){const r=f.getColumn(e).map((r=>r+t[e]));f.setColumn(e,r)}return f.to2DArray()}},489:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this._isRunning=!1,this._start=0,this._elapsed=0,this._total=0,this._speed=1}get isRunning(){return this._isRunning}get getMinute(){return this.getTime/6e4}get getTime(){let t;return t=this.isRunning?this._total+this.getElaplsed():this._total,t}get getTimeStr(){return this.timeFormat(this.getTime)}timeFormat(t){return Math.floor(t/36e5)+new Date(t).toISOString().slice(13,19)}getElaplsed(){return(Date.now()-this._start)*this._speed}actionNewExp(){this.isRunning||(this._elapsed=0,this._total=0)}actionStart(){this.isRunning?(this._elapsed=this.getElaplsed(),this._total+=this._elapsed):(this._start=Date.now(),this._elapsed=0),this._isRunning=!this._isRunning}actionQuit(){this.isRunning||(this._elapsed=0,this._total=0,this._speed=1)}changeSpeed(t){this.isRunning&&(this._total+=this.getElaplsed(),this._start=Date.now(),this._elapsed=0),this._speed=t}}},491:function(t,e,r){var s=this&&this.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const i=o(r(324)),a=r(482),l=r(849);e.default=class{constructor(){this.param=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]];const t=JSON.parse((0,l.getStorageParam)());Object.keys(t).length>0?this.param=t.param:this.setInitParameter()}setInitParameter(){const t=(0,a.multivariateNormal)([0,0,0,0,0,0,0,0],i.covarianceMatrix,1)[0];for(let e=1;e<5;e++)this.param[e][0]=i.MU0[e-1][0]+i.MU0[e-1][1]*t[e-1],this.param[e][1]=Math.exp(i.LOG_SIGMA0[e-1][0]+i.LOG_SIGMA0[e-1][1]*t[e+3]);this.param[5][0]=this.param[2][0],this.param[5][1]=this.param[2][1],this.param[5][2]=i.ADR,(0,l.setStorageParam)(JSON.stringify({param:this.param}))}get getParameter(){return this.param}}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},544:function(t,e,r){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(r(489)),o=r(849);class i extends n.default{constructor(){super();const t=JSON.parse((0,o.getStorageTimer)());Object.keys(t).length>0&&(this._isRunning=t.isRunning,this._start=t.start,this._elapsed=t.elapsed,this._total=t.total,this._speed=t.speed)}getJSONdata(){return JSON.stringify({isRunning:this._isRunning,start:this._start,elapsed:this._elapsed,total:this._total,speed:this._speed})}actionNewExp(){this.isRunning||(super.actionNewExp(),(0,o.setStorageTimer)(this.getJSONdata()))}actionStart(){super.actionStart(),(0,o.setStorageTimer)(this.getJSONdata())}actionQuit(){super.actionQuit(),this.isRunning||(0,o.clearStorageTimer)()}changeSpeed(t){super.changeSpeed(t),(0,o.setStorageTimer)(this.getJSONdata())}}e.default=i},581:function(t,e,r){var s=this&&this.__createBinding||(Object.create?function(t,e,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&s(e,t,r);return n(e,t),e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=o(r(324)),l=r(777),u=i(r(491)),h=i(r(680)),c=i(r(544)),g=r(306),m=r(849),f=void 0===window.ontouchstart?"mousedown":"touchstart";let p,w,d,I,b,M,A,y,C;e.default=class{constructor(){p=document.getElementById("newexp"),w=document.getElementById("start"),d=document.getElementById("quit"),I=document.getElementById("speed_msg"),b=document.getElementById("timer"),M=document.getElementById("response"),A=document.getElementById("select-lang"),y=document.getElementById("slider"),C=document.getElementById("canvas");const t=C.getContext("2d"),e=new Image;t.drawImage(e,0,0,481,268),a.CENTERS.forEach((function(e){h.default.drawCircle(t,e,a.Rnormal,a.RnormalCenter,"black")})),p.addEventListener(f,(()=>{this.clickNewExp()}),!1),w.addEventListener(f,(()=>{this.clickStart()}),!1),d.addEventListener(f,(()=>{this.clickQuit()}),!1),A.addEventListener("change",(()=>{this.toggleLang()}),!1),y.addEventListener("input",(()=>{this.changeSpeed()}),!1),C.addEventListener(f,(e=>{this.clickCanvas(C,t,e)}),!1),this.timer=new c.default,this.param=new u.default,y.value=(0,m.getStorageSpeed)(),this.lang=(0,m.getStorageLang)(),A.la.value=this.lang,this.setLang(),this.toggleButton(),b.textContent="0:00:00"}start(){this.displayTimer()}clickCanvas(t,e,r){if(!this.timer.isRunning)return;const s=function(t,e){let r;r=(t=>"touchstart"===t.type)(e)?e.touches[0]||e.changedTouches[0]:e;const s=e.target.getBoundingClientRect(),n=r.clientX-s.left-0,o=r.clientY-s.top-0,i=t.clientWidth/t.width,a=t.clientHeight/t.height;return[Math.floor(n/i),Math.floor(o/a)]}(t,r),n=(0,g.getCircleNumber)(s,a.CENTERS,a.Rnormal);n<0||function(t,e,r,s){e?(h.default.fillRect(t,a.CENTERS[r],a.Rrespond),h.default.drawCircle(t,a.CENTERS[r],a.Rrespond,a.RrespondCenter,"red"),M.textContent=l.Labels.with_response[s],M.style.color="red",b.style.color="red",setTimeout((()=>{h.default.fillRect(t,a.CENTERS[r],a.Rrespond),h.default.drawCircle(t,a.CENTERS[r],a.Rnormal,a.RnormalCenter,"black"),M.textContent="",b.style.color="black"}),300)):(M.textContent=l.Labels.without_response[s],M.style.color="black",setTimeout((()=>{M.textContent=""}),300))}(e,(0,g.getResponse)(n,this.timer.getMinute,this.param.getParameter),n,this.lang)}toggleLang(){this.lang=A.la.value,this.setLang(),(0,m.setStorageLang)(this.lang)}setLang(){let t;t=this.timer.isRunning?"pause":0==this.timer.getTime?"start":"restart",w.textContent=l.Labels[t][this.lang],p.textContent=l.Labels.newexp[this.lang],d.textContent=l.Labels.quit[this.lang],this.toggleButton(),this.printSpeed(y.value)}clickNewExp(){this.timer.isRunning||window.confirm(l.Labels.msg_newexp[this.lang])&&(this.timer.actionNewExp(),this.param.setInitParameter(),y.value="1",this.changeSpeed(),this.setLang(),(0,m.setStorageSpeed)(y.value))}clickStart(){this.param=new u.default,this.timer.actionStart(),this.setLang(),this.toggleButton()}clickQuit(){this.timer.isRunning||window.confirm(l.Labels.msg_quit[this.lang])&&(window.alert(l.Labels.msg_close[this.lang]),w.textContent=l.Labels.start[this.lang],this.timer.actionQuit(),y.value="1",this.changeSpeed(),(0,m.clearStorage)(),(0,m.clearStorageTimer)())}toggleButton(){this.timer.isRunning?(w.style.background="springgreen",p.style.color="gray",d.style.color="gray"):(w.style.background="cyan",p.style.color="black",d.style.color="black")}changeSpeed(){let t=y.value;this.printSpeed(t),this.timer.changeSpeed(Number(t)),(0,m.setStorageSpeed)(t)}printSpeed(t){I.textContent=t+l.Labels.speed[this.lang]}displayTimer(){b.textContent=this.timer.getTimeStr,requestAnimationFrame((()=>{this.displayTimer()}))}}},659:t=>{var e={};t.exports=function(t,r){var s=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(r)}},673:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var s=r(788),n=r(718);const o=" ".repeat(2),i=" ".repeat(4);function a(t,e={}){const{maxRows:r=15,maxColumns:s=10,maxNumSize:n=8,padMinus:a="auto"}=e;return`${t.constructor.name} {\n${o}[\n${i}${function(t,e,r,s,n){const{rows:o,columns:a}=t,u=Math.min(o,e),h=Math.min(a,r),c=[];if("auto"===n){n=!1;t:for(let e=0;e<u;e++)for(let r=0;r<h;r++)if(t.get(e,r)<0){n=!0;break t}}for(let e=0;e<u;e++){let r=[];for(let o=0;o<h;o++)r.push(l(t.get(e,o),s,n));c.push(`${r.join(" ")}`)}return h!==a&&(c[c.length-1]+=` ... ${a-r} more columns`),u!==o&&c.push(`... ${o-e} more rows`),c.join(`\n${i}`)}(t,r,s,n,a)}\n${o}]\n${o}rows: ${t.rows}\n${o}columns: ${t.columns}\n}`}function l(t,e,r){return(t>=0&&r?` ${u(t,e-1)}`:u(t,e)).padEnd(e)}function u(t,e){let r=t.toString();if(r.length<=e)return r;let s=t.toFixed(e);if(s.length>e&&(s=t.toFixed(Math.max(0,e-(s.length-e)))),s.length<=e&&!s.startsWith("0.000")&&!s.startsWith("-0.000"))return s;let n=t.toExponential(e);return n.length>e&&(n=t.toExponential(Math.max(0,e-(n.length-e)))),n.slice(0)}function h(t,e,r){let s=r?t.rows:t.rows-1;if(e<0||e>s)throw new RangeError("Row index out of range")}function c(t,e,r){let s=r?t.columns:t.columns-1;if(e<0||e>s)throw new RangeError("Column index out of range")}function g(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function m(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function f(t,e){if(!s.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function p(t,e){if(!s.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function w(t,e,r,s,n){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(I("startRow",e),I("endRow",r),I("startColumn",s),I("endColumn",n),e>r||s>n||e<0||e>=t.rows||r<0||r>=t.rows||s<0||s>=t.columns||n<0||n>=t.columns)throw new RangeError("Submatrix indices are out of range")}function d(t,e=0){let r=[];for(let s=0;s<t;s++)r.push(e);return r}function I(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function b(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class M{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let s=new y(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)s.set(n,t,r[n*e+t]);return s}static rowVector(t){let e=new y(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new y(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new y(t,e)}static ones(t,e){return new y(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{random:s=Math.random}=r;let n=new y(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)n.set(r,t,s());return n}static randInt(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{min:s=0,max:n=1e3,random:o=Math.random}=r;if(!Number.isInteger(s))throw new TypeError("min must be an integer");if(!Number.isInteger(n))throw new TypeError("max must be an integer");if(s>=n)throw new RangeError("min must be smaller than max");let i=n-s,a=new y(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=s+Math.round(o()*i);a.set(r,t,e)}return a}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let s=Math.min(t,e),n=this.zeros(t,e);for(let t=0;t<s;t++)n.set(t,t,r);return n}static diag(t,e,r){let s=t.length;void 0===e&&(e=s),void 0===r&&(r=e);let n=Math.min(s,e,r),o=this.zeros(e,r);for(let e=0;e<n;e++)o.set(e,e,t[e]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,n=new y(r,s);for(let o=0;o<r;o++)for(let r=0;r<s;r++)n.set(o,r,Math.min(t.get(o,r),e.get(o,r)));return n}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,n=new this(r,s);for(let o=0;o<r;o++)for(let r=0;r<s;r++)n.set(o,r,Math.max(t.get(o,r),e.get(o,r)));return n}static checkMatrix(t){return M.isMatrix(t)?t:new y(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,s=!0,n=!1;for(;t<this.rows&&s;){for(e=0,n=!1;e<this.columns&&!1===n;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(n=!0,r=e):(s=!1,n=!0);t++}return s}isReducedEchelonForm(){let t=0,e=0,r=-1,s=!0,n=!1;for(;t<this.rows&&s;){for(e=0,n=!1;e<this.columns&&!1===n;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(n=!0,r=e):(s=!1,n=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(s=!1);t++}return s}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let s=e;for(let n=e;n<t.rows;n++)t.get(n,r)>t.get(s,r)&&(s=n);if(0===t.get(s,r))r++;else{t.swapRows(e,s);let n=t.get(e,r);for(let s=r;s<t.columns;s++)t.set(e,s,t.get(e,s)/n);for(let s=e+1;s<t.rows;s++){let n=t.get(s,r)/t.get(e,r);t.set(s,r,0);for(let o=r+1;o<t.columns;o++)t.set(s,o,t.get(s,o)-t.get(e,o)*n)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,s=r-1;for(;s>=0;)if(0===t.maxRow(s))s--;else{let n=0,o=!1;for(;n<r&&!1===o;)1===t.get(s,n)?o=!0:n++;for(let r=0;r<s;r++){let o=t.get(r,n);for(let i=n;i<e;i++){let e=t.get(r,i)-o*t.get(s,i);t.set(r,i,e)}}s--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let s=new y(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)s.setSubMatrix(this,this.rows*t,this.columns*e);return s}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){h(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return y.rowVector(this.getRow(t))}setRow(t,e){h(this,t),e=g(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){h(this,t),h(this,e);for(let r=0;r<this.columns;r++){let s=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,s)}return this}getColumn(t){c(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return y.columnVector(this.getColumn(t))}setColumn(t,e){c(this,t),e=m(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){c(this,t),c(this,e);for(let r=0;r<this.rows;r++){let s=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,s)}return this}addRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=g(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=m(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){h(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){c(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}maxRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){h(this,t),b(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)>e&&(e=this.get(t,s),r[1]=s);return r}minRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){h(this,t),b(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)<e&&(e=this.get(t,s),r[1]=s);return r}maxColumn(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){c(this,t),b(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)>e&&(e=this.get(s,t),r[0]=s);return r}minColumn(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){c(this,t),b(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)<e&&(e=this.get(s,t),r[0]=s);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){M.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let s=0;s<e.length;s++)r+=e[s]*t[s];return r}mmul(t){t=y.checkMatrix(t);let e=this.rows,r=this.columns,s=t.columns,n=new y(e,s),o=new Float64Array(r);for(let i=0;i<s;i++){for(let e=0;e<r;e++)o[e]=t.get(e,i);for(let t=0;t<e;t++){let e=0;for(let s=0;s<r;s++)e+=this.get(t,s)*o[s];n.set(t,i,e)}}return n}mpow(t){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(t)||t<0)throw new RangeError("Exponent must be a non-negative integer");let e=y.eye(this.rows),r=this;for(let s=t;s>=1;s/=2)1&s&&(e=e.mmul(r)),r=r.mmul(r);return e}strassen2x2(t){t=y.checkMatrix(t);let e=new y(2,2);const r=this.get(0,0),s=t.get(0,0),n=this.get(0,1),o=t.get(0,1),i=this.get(1,0),a=t.get(1,0),l=this.get(1,1),u=t.get(1,1),h=(r+l)*(s+u),c=(i+l)*s,g=r*(o-u),m=l*(a-s),f=(r+n)*u,p=h+m-f+(n-l)*(a+u),w=g+f,d=c+m,I=h-c+g+(i-r)*(s+o);return e.set(0,0,p),e.set(0,1,w),e.set(1,0,d),e.set(1,1,I),e}strassen3x3(t){t=y.checkMatrix(t);let e=new y(3,3);const r=this.get(0,0),s=this.get(0,1),n=this.get(0,2),o=this.get(1,0),i=this.get(1,1),a=this.get(1,2),l=this.get(2,0),u=this.get(2,1),h=this.get(2,2),c=t.get(0,0),g=t.get(0,1),m=t.get(0,2),f=t.get(1,0),p=t.get(1,1),w=t.get(1,2),d=t.get(2,0),I=t.get(2,1),b=t.get(2,2),M=(r-o)*(-g+p),A=(-r+o+i)*(c-g+p),C=(o+i)*(-c+g),x=r*c,N=(-r+l+u)*(c-m+w),v=(-r+l)*(m-w),S=(l+u)*(-c+m),T=(-n+u+h)*(p+d-I),j=(n-h)*(p-I),z=n*d,R=(u+h)*(-d+I),Z=(-n+i+a)*(w+d-b),E=(n-a)*(w-b),D=(i+a)*(-d+b),O=x+z+s*f,L=(r+s+n-o-i-u-h)*p+A+C+x+T+z+R,Y=x+N+S+(r+s+n-i-a-l-u)*w+z+Z+D,k=M+i*(-c+g+f-p-w-d+b)+A+x+z+Z+E,W=M+A+C+x+a*I,B=z+Z+E+D+o*m,G=x+N+v+u*(-c+m+f-p-w-d+I)+T+j+z,X=T+j+z+R+l*g,P=x+N+v+S+h*b;return e.set(0,0,O),e.set(0,1,L),e.set(0,2,Y),e.set(1,0,k),e.set(1,1,W),e.set(1,2,B),e.set(2,0,G),e.set(2,1,X),e.set(2,2,P),e}mmulStrassen(t){t=y.checkMatrix(t);let e=this.clone(),r=e.rows,s=e.columns,n=t.rows,o=t.columns;function i(t,e,r){let s=t.rows,n=t.columns;if(s===e&&n===r)return t;{let s=M.zeros(e,r);return s=s.setSubMatrix(t,0,0),s}}s!==n&&console.warn(`Multiplying ${r} x ${s} and ${n} x ${o} matrix: dimensions do not match.`);let a=Math.max(r,n),l=Math.max(s,o);return e=i(e,a,l),function t(e,r,s,n){if(s<=512||n<=512)return e.mmul(r);s%2==1&&n%2==1?(e=i(e,s+1,n+1),r=i(r,s+1,n+1)):s%2==1?(e=i(e,s+1,n),r=i(r,s+1,n)):n%2==1&&(e=i(e,s,n+1),r=i(r,s,n+1));let o=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),l=e.subMatrix(0,o-1,0,a-1),u=r.subMatrix(0,o-1,0,a-1),h=e.subMatrix(0,o-1,a,e.columns-1),c=r.subMatrix(0,o-1,a,r.columns-1),g=e.subMatrix(o,e.rows-1,0,a-1),m=r.subMatrix(o,r.rows-1,0,a-1),f=e.subMatrix(o,e.rows-1,a,e.columns-1),p=r.subMatrix(o,r.rows-1,a,r.columns-1),w=t(M.add(l,f),M.add(u,p),o,a),d=t(M.add(g,f),u,o,a),I=t(l,M.sub(c,p),o,a),b=t(f,M.sub(m,u),o,a),A=t(M.add(l,h),p,o,a),y=t(M.sub(g,l),M.add(u,c),o,a),C=t(M.sub(h,f),M.add(m,p),o,a),x=M.add(w,b);x.sub(A),x.add(C);let N=M.add(I,A),v=M.add(d,b),S=M.sub(w,d);S.add(I),S.add(y);let T=M.zeros(2*x.rows,2*x.columns);return T=T.setSubMatrix(x,0,0),T=T.setSubMatrix(N,x.rows,0),T=T.setSubMatrix(v,0,x.columns),T=T.setSubMatrix(S,x.rows,x.columns),T.subMatrix(0,s-1,0,n-1)}(e,t=i(t,a,l),a,l)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let s=new y(this.rows,this.columns);for(let t=0;t<this.rows;t++){const o=this.getRow(t);o.length>0&&n(o,{min:e,max:r,output:o}),s.setRow(t,o)}return s}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let s=new y(this.rows,this.columns);for(let t=0;t<this.columns;t++){const o=this.getColumn(t);o.length&&n(o,{min:e,max:r,output:o}),s.setColumn(t,o)}return s}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),s=this.get(e,this.columns-1-r);this.set(e,r,s),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),s=this.get(this.rows-1-r,e);this.set(r,e,s),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=y.checkMatrix(t);let e=this.rows,r=this.columns,s=t.rows,n=t.columns,o=new y(e*s,r*n);for(let i=0;i<e;i++)for(let e=0;e<r;e++)for(let r=0;r<s;r++)for(let a=0;a<n;a++)o.set(s*i+r,n*e+a,this.get(i,e)*t.get(r,a));return o}kroneckerSum(t){if(t=y.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,s=this.kroneckerProduct(y.eye(r,r)),n=y.eye(e,e).kroneckerProduct(t);return s.add(n)}transpose(){let t=new y(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=A){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=A){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,s){w(this,t,e,r,s);let n=new y(e-t+1,s-r+1);for(let o=t;o<=e;o++)for(let e=r;e<=s;e++)n.set(o-t,e-r,this.get(o,e));return n}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let s=new y(t.length,r-e+1);for(let n=0;n<t.length;n++)for(let o=e;o<=r;o++){if(t[n]<0||t[n]>=this.rows)throw new RangeError(`Row index out of range: ${t[n]}`);s.set(n,o-e,this.get(t[n],o))}return s}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let s=new y(r-e+1,t.length);for(let n=0;n<t.length;n++)for(let o=e;o<=r;o++){if(t[n]<0||t[n]>=this.columns)throw new RangeError(`Column index out of range: ${t[n]}`);s.set(o-e,n,this.get(o,t[n]))}return s}setSubMatrix(t,e,r){if((t=y.checkMatrix(t)).isEmpty())return this;w(this,e,e+t.rows-1,r,r+t.columns-1);for(let s=0;s<t.rows;s++)for(let n=0;n<t.columns;n++)this.set(e+s,r+n,t.get(s,n));return this}selection(t,e){f(this,t),p(this,e);let r=new y(t.length,e.length);for(let s=0;s<t.length;s++){let n=t[s];for(let t=0;t<e.length;t++){let o=e[t];r.set(s,t,this.get(n,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new y(this.rows,this.columns))}static copy(t,e){for(const[r,s,n]of t.entries())e.set(r,s,n);return e}sum(t){switch(t){case"row":return function(t){let e=d(t.rows);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]+=t.get(r,s);return e}(this);case"column":return function(t){let e=d(t.columns);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]+=t.get(r,s);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e+=t.get(r,s);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=d(t.rows,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]*=t.get(r,s);return e}(this);case"column":return function(t){let e=d(t.columns,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]*=t.get(r,s);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e*=t.get(r,s);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:n=this.mean(t)}=e;if("boolean"!=typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!s.isAnyArray(n))throw new TypeError("mean must be an array");return function(t,e,r){const s=t.rows,n=t.columns,o=[];for(let i=0;i<s;i++){let s=0,a=0,l=0;for(let e=0;e<n;e++)l=t.get(i,e)-r[i],s+=l,a+=l*l;e?o.push((a-s*s/n)/(n-1)):o.push((a-s*s/n)/n)}return o}(this,r,n);case"column":if(!s.isAnyArray(n))throw new TypeError("mean must be an array");return function(t,e,r){const s=t.rows,n=t.columns,o=[];for(let i=0;i<n;i++){let n=0,a=0,l=0;for(let e=0;e<s;e++)l=t.get(e,i)-r[i],n+=l,a+=l*l;e?o.push((a-n*n/s)/(s-1)):o.push((a-n*n/s)/s)}return o}(this,r,n);case void 0:if("number"!=typeof n)throw new TypeError("mean must be a number");return function(t,e,r){const s=t.rows,n=t.columns,o=s*n;let i=0,a=0,l=0;for(let e=0;e<s;e++)for(let s=0;s<n;s++)l=t.get(e,s)-r,i+=l,a+=l*l;return e?(a-i*i/o)/(o-1):(a-i*i/o)/o}(this,r,n);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!s.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e[r])}(this,r),this;case"column":if(!s.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e[s])}(this,r),this;case void 0:if("number"!=typeof r)throw new TypeError("center must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.rows;r++){let s=0;for(let e=0;e<t.columns;e++)s+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(s))}return e}(this);else if(!s.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.columns;r++){let s=0;for(let e=0;e<t.rows;e++)s+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(s))}return e}(this);else if(!s.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e[s])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.size-1;let r=0;for(let s=0;s<t.columns;s++)for(let n=0;n<t.rows;n++)r+=t.get(n,s)**2/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return a(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function A(t,e){return t-e}M.prototype.klass="Matrix","undefined"!=typeof Symbol&&(M.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return a(this)}),M.random=M.rand,M.randomInt=M.randInt,M.diagonal=M.diag,M.prototype.diagonal=M.prototype.diag,M.identity=M.eye,M.prototype.negate=M.prototype.neg,M.prototype.tensorProduct=M.prototype.kroneckerProduct;class y extends M{data;#t(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e}constructor(t,e){if(super(),y.isMatrix(t))this.#t(t.rows,t.columns),y.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else{if(!s.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if("number"!=typeof(e=(t=r.length)?r[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let s=0;s<t;s++){if(r[s].length!==e)throw new RangeError("Inconsistent array dimensions");if(!r[s].every((t=>"number"==typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[s]))}this.rows=t,this.columns=e}}}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return h(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),h(this,t,!0),e=Float64Array.from(g(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){c(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let s=0;s<t;s++)r[s]=this.data[e][s];for(let s=t+1;s<this.columns;s++)r[s-1]=this.data[e][s];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),c(this,t,!0),e=m(this,e);for(let r=0;r<this.rows;r++){const s=new Float64Array(this.columns+1);let n=0;for(;n<t;n++)s[n]=this.data[r][n];for(s[n++]=e[r];n<this.columns+1;n++)s[n]=this.data[r][n-1];this.data[r]=s}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){return new e(t).add(r)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){return new e(t).sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){return new e(t).mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){return new e(t).div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){return new e(t).mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){return new e(t).and(r)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){return new e(t).or(r)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){return new e(t).xor(r)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){return new e(t).leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){return new e(t).rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,r){return new e(t).pow(r)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this}}(M,y);class C extends M{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return y.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),y.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");this.#e=y.copy(t,new y(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new y(t,t);else if(this.#e=new y(t),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const t=new C(this.diagonalSize);for(const[e,r,s]of this.upperRightEntries())t.set(e,r,s);return t}toMatrix(){return new y(this)}get(t,e){return this.#e.get(t,e)}set(t,e,r){return this.#e.set(t,e,r),this.#e.set(e,t,r),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const r=e.slice();return r.splice(t,1),this.#e.addRow(t,r),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[r,s]of t.entries())s||e.push(r);e.reverse();for(const t of e)this.removeCross(t);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let r=0,s=0,n=0;n<e.length;n++)e[n]=this.get(s,r),++r>=t&&(r=++s);return e}static fromCompact(t){const e=t.length,r=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const s=new C(r);for(let n=0,o=0,i=0;i<e;i++)s.set(n,o,t[i]),++n>=r&&(n=++o);return s}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}}C.prototype.klassType="SymmetricMatrix";class x extends C{static isDistanceMatrix(t){return C.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new C(this)}clone(){const t=new x(this.diagonalSize);for(const[e,r,s]of this.upperRightEntries())e!==r&&t.set(e,r,s);return t}toCompact(){const{diagonalSize:t}=this,e=new Array((t-1)*t/2);for(let r=1,s=0,n=0;n<e.length;n++)e[n]=this.get(s,r),++r>=t&&(r=1+ ++s);return e}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const s=new this(r);for(let n=1,o=0,i=0;i<e;i++)s.set(n,o,t[i]),++n>=r&&(n=1+ ++o);return s}}x.prototype.klassSubType="DistanceMatrix";class N extends M{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class v extends N{constructor(t,e,r){f(t,e),p(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class S extends M{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let s=this._calculateIndex(t,e);return this.data[s]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class T extends M{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class j{constructor(t){let e,r,s,n,o,i,a,l,u,h=(t=T.checkMatrix(t)).clone(),c=h.rows,g=h.columns,m=new Float64Array(c),f=1;for(e=0;e<c;e++)m[e]=e;for(l=new Float64Array(c),r=0;r<g;r++){for(e=0;e<c;e++)l[e]=h.get(e,r);for(e=0;e<c;e++){for(u=Math.min(e,r),o=0,s=0;s<u;s++)o+=h.get(e,s)*l[s];l[e]-=o,h.set(e,r,l[e])}for(n=r,e=r+1;e<c;e++)Math.abs(l[e])>Math.abs(l[n])&&(n=e);if(n!==r){for(s=0;s<g;s++)i=h.get(n,s),h.set(n,s,h.get(r,s)),h.set(r,s,i);a=m[n],m[n]=m[r],m[r]=a,f=-f}if(r<c&&0!==h.get(r,r))for(e=r+1;e<c;e++)h.set(e,r,h.get(e,r)/h.get(r,r))}this.LU=h,this.pivotVector=m,this.pivotSign=f}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=y.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,s,n,o=t.columns,i=t.subMatrixRow(this.pivotVector,0,o-1),a=e.columns;for(n=0;n<a;n++)for(r=n+1;r<a;r++)for(s=0;s<o;s++)i.set(r,s,i.get(r,s)-i.get(n,s)*e.get(r,n));for(n=a-1;n>=0;n--){for(s=0;s<o;s++)i.set(n,s,i.get(n,s)/e.get(n,n));for(r=0;r<n;r++)for(s=0;s<o;s++)i.set(r,s,i.get(r,s)-i.get(n,s)*e.get(r,n))}return i}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let s=0;s<r;s++)e*=t.get(s,s);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,s=new y(e,r);for(let n=0;n<e;n++)for(let e=0;e<r;e++)n>e?s.set(n,e,t.get(n,e)):n===e?s.set(n,e,1):s.set(n,e,0);return s}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,s=new y(e,r);for(let n=0;n<e;n++)for(let e=0;e<r;e++)n<=e?s.set(n,e,t.get(n,e)):s.set(n,e,0);return s}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function z(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class R{constructor(t){let e,r,s,n,o=(t=T.checkMatrix(t)).clone(),i=t.rows,a=t.columns,l=new Float64Array(a);for(s=0;s<a;s++){let t=0;for(e=s;e<i;e++)t=z(t,o.get(e,s));if(0!==t){for(o.get(s,s)<0&&(t=-t),e=s;e<i;e++)o.set(e,s,o.get(e,s)/t);for(o.set(s,s,o.get(s,s)+1),r=s+1;r<a;r++){for(n=0,e=s;e<i;e++)n+=o.get(e,s)*o.get(e,r);for(n=-n/o.get(s,s),e=s;e<i;e++)o.set(e,r,o.get(e,r)+n*o.get(e,s))}}l[s]=-t}this.QR=o,this.Rdiag=l}solve(t){t=y.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let s,n,o,i,a=t.columns,l=t.clone(),u=e.columns;for(o=0;o<u;o++)for(n=0;n<a;n++){for(i=0,s=o;s<r;s++)i+=e.get(s,o)*l.get(s,n);for(i=-i/e.get(o,o),s=o;s<r;s++)l.set(s,n,l.get(s,n)+i*e.get(s,o))}for(o=u-1;o>=0;o--){for(n=0;n<a;n++)l.set(o,n,l.get(o,n)/this.Rdiag[o]);for(s=0;s<o;s++)for(n=0;n<a;n++)l.set(s,n,l.get(s,n)-l.get(o,n)*e.get(s,o))}return l.subMatrix(0,u-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,s=r.columns,n=new y(s,s);for(t=0;t<s;t++)for(e=0;e<s;e++)t<e?n.set(t,e,r.get(t,e)):t===e?n.set(t,e,this.Rdiag[t]):n.set(t,e,0);return n}get orthogonalMatrix(){let t,e,r,s,n=this.QR,o=n.rows,i=n.columns,a=new y(o,i);for(r=i-1;r>=0;r--){for(t=0;t<o;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<i;e++)if(0!==n.get(r,r)){for(s=0,t=r;t<o;t++)s+=n.get(t,r)*a.get(t,e);for(s=-s/n.get(r,r),t=r;t<o;t++)a.set(t,e,a.get(t,e)+s*n.get(t,r))}}return a}}class Z{constructor(t,e={}){if((t=T.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,s=t.columns;const{computeLeftSingularVectors:n=!0,computeRightSingularVectors:o=!0,autoTranspose:i=!1}=e;let a,l=Boolean(n),u=Boolean(o),h=!1;if(r<s)if(i){a=t.transpose(),r=a.rows,s=a.columns,h=!0;let e=l;l=u,u=e}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();let c=Math.min(r,s),g=Math.min(r+1,s),m=new Float64Array(g),f=new y(r,c),p=new y(s,s),w=new Float64Array(s),d=new Float64Array(r),I=new Float64Array(g);for(let t=0;t<g;t++)I[t]=t;let b=Math.min(r-1,s),M=Math.max(0,Math.min(s-2,r)),A=Math.max(b,M);for(let t=0;t<A;t++){if(t<b){m[t]=0;for(let e=t;e<r;e++)m[t]=z(m[t],a.get(e,t));if(0!==m[t]){a.get(t,t)<0&&(m[t]=-m[t]);for(let e=t;e<r;e++)a.set(e,t,a.get(e,t)/m[t]);a.set(t,t,a.get(t,t)+1)}m[t]=-m[t]}for(let e=t+1;e<s;e++){if(t<b&&0!==m[t]){let s=0;for(let n=t;n<r;n++)s+=a.get(n,t)*a.get(n,e);s=-s/a.get(t,t);for(let n=t;n<r;n++)a.set(n,e,a.get(n,e)+s*a.get(n,t))}w[e]=a.get(t,e)}if(l&&t<b)for(let e=t;e<r;e++)f.set(e,t,a.get(e,t));if(t<M){w[t]=0;for(let e=t+1;e<s;e++)w[t]=z(w[t],w[e]);if(0!==w[t]){w[t+1]<0&&(w[t]=0-w[t]);for(let e=t+1;e<s;e++)w[e]/=w[t];w[t+1]+=1}if(w[t]=-w[t],t+1<r&&0!==w[t]){for(let e=t+1;e<r;e++)d[e]=0;for(let e=t+1;e<r;e++)for(let r=t+1;r<s;r++)d[e]+=w[r]*a.get(e,r);for(let e=t+1;e<s;e++){let s=-w[e]/w[t+1];for(let n=t+1;n<r;n++)a.set(n,e,a.get(n,e)+s*d[n])}}if(u)for(let e=t+1;e<s;e++)p.set(e,t,w[e])}}let C=Math.min(s,r+1);if(b<s&&(m[b]=a.get(b,b)),r<C&&(m[C-1]=0),M+1<C&&(w[M]=a.get(M,C-1)),w[C-1]=0,l){for(let t=b;t<c;t++){for(let e=0;e<r;e++)f.set(e,t,0);f.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==m[t]){for(let e=t+1;e<c;e++){let s=0;for(let n=t;n<r;n++)s+=f.get(n,t)*f.get(n,e);s=-s/f.get(t,t);for(let n=t;n<r;n++)f.set(n,e,f.get(n,e)+s*f.get(n,t))}for(let e=t;e<r;e++)f.set(e,t,-f.get(e,t));f.set(t,t,1+f.get(t,t));for(let e=0;e<t-1;e++)f.set(e,t,0)}else{for(let e=0;e<r;e++)f.set(e,t,0);f.set(t,t,1)}}if(u)for(let t=s-1;t>=0;t--){if(t<M&&0!==w[t])for(let e=t+1;e<s;e++){let r=0;for(let n=t+1;n<s;n++)r+=p.get(n,t)*p.get(n,e);r=-r/p.get(t+1,t);for(let n=t+1;n<s;n++)p.set(n,e,p.get(n,e)+r*p.get(n,t))}for(let e=0;e<s;e++)p.set(e,t,0);p.set(t,t,1)}let x=C-1,N=Number.EPSILON;for(;C>0;){let t,e;for(t=C-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+N*Math.abs(m[t]+Math.abs(m[t+1]));if(Math.abs(w[t])<=e||Number.isNaN(w[t])){w[t]=0;break}}if(t===C-2)e=4;else{let r;for(r=C-1;r>=t&&r!==t;r--){let e=(r!==C?Math.abs(w[r]):0)+(r!==t+1?Math.abs(w[r-1]):0);if(Math.abs(m[r])<=N*e){m[r]=0;break}}r===t?e=3:r===C-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=w[C-2];w[C-2]=0;for(let r=C-2;r>=t;r--){let n=z(m[r],e),o=m[r]/n,i=e/n;if(m[r]=n,r!==t&&(e=-i*w[r-1],w[r-1]=o*w[r-1]),u)for(let t=0;t<s;t++)n=o*p.get(t,r)+i*p.get(t,C-1),p.set(t,C-1,-i*p.get(t,r)+o*p.get(t,C-1)),p.set(t,r,n)}break}case 2:{let e=w[t-1];w[t-1]=0;for(let s=t;s<C;s++){let n=z(m[s],e),o=m[s]/n,i=e/n;if(m[s]=n,e=-i*w[s],w[s]=o*w[s],l)for(let e=0;e<r;e++)n=o*f.get(e,s)+i*f.get(e,t-1),f.set(e,t-1,-i*f.get(e,s)+o*f.get(e,t-1)),f.set(e,s,n)}break}case 3:{const e=Math.max(Math.abs(m[C-1]),Math.abs(m[C-2]),Math.abs(w[C-2]),Math.abs(m[t]),Math.abs(w[t])),n=m[C-1]/e,o=m[C-2]/e,i=w[C-2]/e,a=m[t]/e,h=w[t]/e,c=((o+n)*(o-n)+i*i)/2,g=n*i*(n*i);let d=0;0===c&&0===g||(d=c<0?0-Math.sqrt(c*c+g):Math.sqrt(c*c+g),d=g/(c+d));let I=(a+n)*(a-n)+d,b=a*h;for(let e=t;e<C-1;e++){let n=z(I,b);0===n&&(n=Number.MIN_VALUE);let o=I/n,i=b/n;if(e!==t&&(w[e-1]=n),I=o*m[e]+i*w[e],w[e]=o*w[e]-i*m[e],b=i*m[e+1],m[e+1]=o*m[e+1],u)for(let t=0;t<s;t++)n=o*p.get(t,e)+i*p.get(t,e+1),p.set(t,e+1,-i*p.get(t,e)+o*p.get(t,e+1)),p.set(t,e,n);if(n=z(I,b),0===n&&(n=Number.MIN_VALUE),o=I/n,i=b/n,m[e]=n,I=o*w[e]+i*m[e+1],m[e+1]=-i*w[e]+o*m[e+1],b=i*w[e+1],w[e+1]=o*w[e+1],l&&e<r-1)for(let t=0;t<r;t++)n=o*f.get(t,e)+i*f.get(t,e+1),f.set(t,e+1,-i*f.get(t,e)+o*f.get(t,e+1)),f.set(t,e,n)}w[C-2]=I;break}case 4:if(m[t]<=0&&(m[t]=m[t]<0?-m[t]:0,u))for(let e=0;e<=x;e++)p.set(e,t,-p.get(e,t));for(;t<x&&!(m[t]>=m[t+1]);){let e=m[t];if(m[t]=m[t+1],m[t+1]=e,u&&t<s-1)for(let r=0;r<s;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);if(l&&t<r-1)for(let s=0;s<r;s++)e=f.get(s,t+1),f.set(s,t+1,f.get(s,t)),f.set(s,t,e);t++}C--}}if(h){let t=p;p=f,f=t}this.m=r,this.n=s,this.s=m,this.U=f,this.V=p}solve(t){let e=t,r=this.threshold,s=this.s.length,n=y.zeros(s,s);for(let t=0;t<s;t++)Math.abs(this.s[t])<=r?n.set(t,t,0):n.set(t,t,1/this.s[t]);let o=this.U,i=this.rightSingularVectors,a=i.mmul(n),l=i.rows,u=o.rows,h=y.zeros(l,u);for(let t=0;t<l;t++)for(let e=0;e<u;e++){let r=0;for(let n=0;n<s;n++)r+=a.get(t,n)*o.get(e,n);h.set(t,e,r)}return h.mmul(e)}solveForDiagonal(t){return this.solve(y.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,s=t.columns,n=new y(r,this.s.length);for(let o=0;o<r;o++)for(let r=0;r<s;r++)Math.abs(this.s[r])>e&&n.set(o,r,t.get(o,r)/this.s[r]);let o=this.U,i=o.rows,a=o.columns,l=new y(r,i);for(let t=0;t<r;t++)for(let e=0;e<i;e++){let r=0;for(let s=0;s<a;s++)r+=n.get(t,s)*o.get(e,s);l.set(t,e,r)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let s=0,n=r.length;s<n;s++)r[s]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return y.diag(this.s)}}function E(t,e,r=!1){return t=T.checkMatrix(t),e=T.checkMatrix(e),r?new Z(t).solve(e):t.isSquare()?new j(t).solve(e):new R(t).solve(e)}function D(t,e){let r=[];for(let s=0;s<t;s++)s!==e&&r.push(s);return r}function O(t,e,r,s=1e-9,n=1e-9){if(t>n)return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<s&&t.set(e,0,0);return t.to1DArray()}}class L{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(!(t=T.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let s,n,o=t.columns,i=new y(o,o),a=new Float64Array(o),l=new Float64Array(o),u=t,h=!1;if(h=!!r||t.isSymmetric(),h){for(s=0;s<o;s++)for(n=0;n<o;n++)i.set(s,n,u.get(s,n));!function(t,e,r,s){let n,o,i,a,l,u,h,c;for(l=0;l<t;l++)r[l]=s.get(t-1,l);for(a=t-1;a>0;a--){for(c=0,i=0,u=0;u<a;u++)c+=Math.abs(r[u]);if(0===c)for(e[a]=r[a-1],l=0;l<a;l++)r[l]=s.get(a-1,l),s.set(a,l,0),s.set(l,a,0);else{for(u=0;u<a;u++)r[u]/=c,i+=r[u]*r[u];for(n=r[a-1],o=Math.sqrt(i),n>0&&(o=-o),e[a]=c*o,i-=n*o,r[a-1]=n-o,l=0;l<a;l++)e[l]=0;for(l=0;l<a;l++){for(n=r[l],s.set(l,a,n),o=e[l]+s.get(l,l)*n,u=l+1;u<=a-1;u++)o+=s.get(u,l)*r[u],e[u]+=s.get(u,l)*n;e[l]=o}for(n=0,l=0;l<a;l++)e[l]/=i,n+=e[l]*r[l];for(h=n/(i+i),l=0;l<a;l++)e[l]-=h*r[l];for(l=0;l<a;l++){for(n=r[l],o=e[l],u=l;u<=a-1;u++)s.set(u,l,s.get(u,l)-(n*e[u]+o*r[u]));r[l]=s.get(a-1,l),s.set(a,l,0)}}r[a]=i}for(a=0;a<t-1;a++){if(s.set(t-1,a,s.get(a,a)),s.set(a,a,1),i=r[a+1],0!==i){for(u=0;u<=a;u++)r[u]=s.get(u,a+1)/i;for(l=0;l<=a;l++){for(o=0,u=0;u<=a;u++)o+=s.get(u,a+1)*s.get(u,l);for(u=0;u<=a;u++)s.set(u,l,s.get(u,l)-o*r[u])}}for(u=0;u<=a;u++)s.set(u,a+1,0)}for(l=0;l<t;l++)r[l]=s.get(t-1,l),s.set(t-1,l,0);s.set(t-1,t-1,1),e[0]=0}(o,l,a,i),function(t,e,r,s){let n,o,i,a,l,u,h,c,g,m,f,p,w,d,I,b;for(i=1;i<t;i++)e[i-1]=e[i];e[t-1]=0;let M=0,A=0,y=Number.EPSILON;for(u=0;u<t;u++){for(A=Math.max(A,Math.abs(r[u])+Math.abs(e[u])),h=u;h<t&&!(Math.abs(e[h])<=y*A);)h++;if(h>u)do{for(n=r[u],c=(r[u+1]-n)/(2*e[u]),g=z(c,1),c<0&&(g=-g),r[u]=e[u]/(c+g),r[u+1]=e[u]*(c+g),m=r[u+1],o=n-r[u],i=u+2;i<t;i++)r[i]-=o;for(M+=o,c=r[h],f=1,p=f,w=f,d=e[u+1],I=0,b=0,i=h-1;i>=u;i--)for(w=p,p=f,b=I,n=f*e[i],o=f*c,g=z(c,e[i]),e[i+1]=I*g,I=e[i]/g,f=c/g,c=f*r[i]-I*n,r[i+1]=o+I*(f*n+I*r[i]),l=0;l<t;l++)o=s.get(l,i+1),s.set(l,i+1,I*s.get(l,i)+f*o),s.set(l,i,f*s.get(l,i)-I*o);c=-I*b*w*d*e[u]/m,e[u]=I*c,r[u]=f*c}while(Math.abs(e[u])>y*A);r[u]=r[u]+M,e[u]=0}for(i=0;i<t-1;i++){for(l=i,c=r[i],a=i+1;a<t;a++)r[a]<c&&(l=a,c=r[a]);if(l!==i)for(r[l]=r[i],r[i]=c,a=0;a<t;a++)c=s.get(a,i),s.set(a,i,s.get(a,l)),s.set(a,l,c)}}(o,l,a,i)}else{let t=new y(o,o),e=new Float64Array(o);for(n=0;n<o;n++)for(s=0;s<o;s++)t.set(s,n,u.get(s,n));!function(t,e,r,s){let n,o,i,a,l,u,h,c=t-1;for(u=1;u<=c-1;u++){for(h=0,a=u;a<=c;a++)h+=Math.abs(e.get(a,u-1));if(0!==h){for(i=0,a=c;a>=u;a--)r[a]=e.get(a,u-1)/h,i+=r[a]*r[a];for(o=Math.sqrt(i),r[u]>0&&(o=-o),i-=r[u]*o,r[u]=r[u]-o,l=u;l<t;l++){for(n=0,a=c;a>=u;a--)n+=r[a]*e.get(a,l);for(n/=i,a=u;a<=c;a++)e.set(a,l,e.get(a,l)-n*r[a])}for(a=0;a<=c;a++){for(n=0,l=c;l>=u;l--)n+=r[l]*e.get(a,l);for(n/=i,l=u;l<=c;l++)e.set(a,l,e.get(a,l)-n*r[l])}r[u]=h*r[u],e.set(u,u-1,h*o)}}for(a=0;a<t;a++)for(l=0;l<t;l++)s.set(a,l,a===l?1:0);for(u=c-1;u>=1;u--)if(0!==e.get(u,u-1)){for(a=u+1;a<=c;a++)r[a]=e.get(a,u-1);for(l=u;l<=c;l++){for(o=0,a=u;a<=c;a++)o+=r[a]*s.get(a,l);for(o=o/r[u]/e.get(u,u-1),a=u;a<=c;a++)s.set(a,l,s.get(a,l)+o*r[a])}}}(o,t,e,i),function(t,e,r,s,n){let o,i,a,l,u,h,c,g,m,f,p,w,d,I,b,M=t-1,A=t-1,y=Number.EPSILON,C=0,x=0,N=0,v=0,S=0,T=0,j=0,z=0;for(o=0;o<t;o++)for((o<0||o>A)&&(r[o]=n.get(o,o),e[o]=0),i=Math.max(o-1,0);i<t;i++)x+=Math.abs(n.get(o,i));for(;M>=0;){for(l=M;l>0&&(T=Math.abs(n.get(l-1,l-1))+Math.abs(n.get(l,l)),0===T&&(T=x),!(Math.abs(n.get(l,l-1))<y*T));)l--;if(l===M)n.set(M,M,n.get(M,M)+C),r[M]=n.get(M,M),e[M]=0,M--,z=0;else if(l===M-1){if(c=n.get(M,M-1)*n.get(M-1,M),N=(n.get(M-1,M-1)-n.get(M,M))/2,v=N*N+c,j=Math.sqrt(Math.abs(v)),n.set(M,M,n.get(M,M)+C),n.set(M-1,M-1,n.get(M-1,M-1)+C),g=n.get(M,M),v>=0){for(j=N>=0?N+j:N-j,r[M-1]=g+j,r[M]=r[M-1],0!==j&&(r[M]=g-c/j),e[M-1]=0,e[M]=0,g=n.get(M,M-1),T=Math.abs(g)+Math.abs(j),N=g/T,v=j/T,S=Math.sqrt(N*N+v*v),N/=S,v/=S,i=M-1;i<t;i++)j=n.get(M-1,i),n.set(M-1,i,v*j+N*n.get(M,i)),n.set(M,i,v*n.get(M,i)-N*j);for(o=0;o<=M;o++)j=n.get(o,M-1),n.set(o,M-1,v*j+N*n.get(o,M)),n.set(o,M,v*n.get(o,M)-N*j);for(o=0;o<=A;o++)j=s.get(o,M-1),s.set(o,M-1,v*j+N*s.get(o,M)),s.set(o,M,v*s.get(o,M)-N*j)}else r[M-1]=g+N,r[M]=g+N,e[M-1]=j,e[M]=-j;M-=2,z=0}else{if(g=n.get(M,M),m=0,c=0,l<M&&(m=n.get(M-1,M-1),c=n.get(M,M-1)*n.get(M-1,M)),10===z){for(C+=g,o=0;o<=M;o++)n.set(o,o,n.get(o,o)-g);T=Math.abs(n.get(M,M-1))+Math.abs(n.get(M-1,M-2)),g=m=.75*T,c=-.4375*T*T}if(30===z&&(T=(m-g)/2,T=T*T+c,T>0)){for(T=Math.sqrt(T),m<g&&(T=-T),T=g-c/((m-g)/2+T),o=0;o<=M;o++)n.set(o,o,n.get(o,o)-T);C+=T,g=m=c=.964}for(z+=1,u=M-2;u>=l&&(j=n.get(u,u),S=g-j,T=m-j,N=(S*T-c)/n.get(u+1,u)+n.get(u,u+1),v=n.get(u+1,u+1)-j-S-T,S=n.get(u+2,u+1),T=Math.abs(N)+Math.abs(v)+Math.abs(S),N/=T,v/=T,S/=T,u!==l)&&!(Math.abs(n.get(u,u-1))*(Math.abs(v)+Math.abs(S))<y*(Math.abs(N)*(Math.abs(n.get(u-1,u-1))+Math.abs(j)+Math.abs(n.get(u+1,u+1)))));)u--;for(o=u+2;o<=M;o++)n.set(o,o-2,0),o>u+2&&n.set(o,o-3,0);for(a=u;a<=M-1&&(I=a!==M-1,a!==u&&(N=n.get(a,a-1),v=n.get(a+1,a-1),S=I?n.get(a+2,a-1):0,g=Math.abs(N)+Math.abs(v)+Math.abs(S),0!==g&&(N/=g,v/=g,S/=g)),0!==g);a++)if(T=Math.sqrt(N*N+v*v+S*S),N<0&&(T=-T),0!==T){for(a!==u?n.set(a,a-1,-T*g):l!==u&&n.set(a,a-1,-n.get(a,a-1)),N+=T,g=N/T,m=v/T,j=S/T,v/=N,S/=N,i=a;i<t;i++)N=n.get(a,i)+v*n.get(a+1,i),I&&(N+=S*n.get(a+2,i),n.set(a+2,i,n.get(a+2,i)-N*j)),n.set(a,i,n.get(a,i)-N*g),n.set(a+1,i,n.get(a+1,i)-N*m);for(o=0;o<=Math.min(M,a+3);o++)N=g*n.get(o,a)+m*n.get(o,a+1),I&&(N+=j*n.get(o,a+2),n.set(o,a+2,n.get(o,a+2)-N*S)),n.set(o,a,n.get(o,a)-N),n.set(o,a+1,n.get(o,a+1)-N*v);for(o=0;o<=A;o++)N=g*s.get(o,a)+m*s.get(o,a+1),I&&(N+=j*s.get(o,a+2),s.set(o,a+2,s.get(o,a+2)-N*S)),s.set(o,a,s.get(o,a)-N),s.set(o,a+1,s.get(o,a+1)-N*v)}}}if(0!==x){for(M=t-1;M>=0;M--)if(N=r[M],v=e[M],0===v)for(l=M,n.set(M,M,1),o=M-1;o>=0;o--){for(c=n.get(o,o)-N,S=0,i=l;i<=M;i++)S+=n.get(o,i)*n.get(i,M);if(e[o]<0)j=c,T=S;else if(l=o,0===e[o]?n.set(o,M,0!==c?-S/c:-S/(y*x)):(g=n.get(o,o+1),m=n.get(o+1,o),v=(r[o]-N)*(r[o]-N)+e[o]*e[o],h=(g*T-j*S)/v,n.set(o,M,h),n.set(o+1,M,Math.abs(g)>Math.abs(j)?(-S-c*h)/g:(-T-m*h)/j)),h=Math.abs(n.get(o,M)),y*h*h>1)for(i=o;i<=M;i++)n.set(i,M,n.get(i,M)/h)}else if(v<0)for(l=M-1,Math.abs(n.get(M,M-1))>Math.abs(n.get(M-1,M))?(n.set(M-1,M-1,v/n.get(M,M-1)),n.set(M-1,M,-(n.get(M,M)-N)/n.get(M,M-1))):(b=Y(0,-n.get(M-1,M),n.get(M-1,M-1)-N,v),n.set(M-1,M-1,b[0]),n.set(M-1,M,b[1])),n.set(M,M-1,0),n.set(M,M,1),o=M-2;o>=0;o--){for(f=0,p=0,i=l;i<=M;i++)f+=n.get(o,i)*n.get(i,M-1),p+=n.get(o,i)*n.get(i,M);if(c=n.get(o,o)-N,e[o]<0)j=c,S=f,T=p;else if(l=o,0===e[o]?(b=Y(-f,-p,c,v),n.set(o,M-1,b[0]),n.set(o,M,b[1])):(g=n.get(o,o+1),m=n.get(o+1,o),w=(r[o]-N)*(r[o]-N)+e[o]*e[o]-v*v,d=2*(r[o]-N)*v,0===w&&0===d&&(w=y*x*(Math.abs(c)+Math.abs(v)+Math.abs(g)+Math.abs(m)+Math.abs(j))),b=Y(g*S-j*f+v*p,g*T-j*p-v*f,w,d),n.set(o,M-1,b[0]),n.set(o,M,b[1]),Math.abs(g)>Math.abs(j)+Math.abs(v)?(n.set(o+1,M-1,(-f-c*n.get(o,M-1)+v*n.get(o,M))/g),n.set(o+1,M,(-p-c*n.get(o,M)-v*n.get(o,M-1))/g)):(b=Y(-S-m*n.get(o,M-1),-T-m*n.get(o,M),j,v),n.set(o+1,M-1,b[0]),n.set(o+1,M,b[1]))),h=Math.max(Math.abs(n.get(o,M-1)),Math.abs(n.get(o,M))),y*h*h>1)for(i=o;i<=M;i++)n.set(i,M-1,n.get(i,M-1)/h),n.set(i,M,n.get(i,M)/h)}for(o=0;o<t;o++)if(o<0||o>A)for(i=o;i<t;i++)s.set(o,i,n.get(o,i));for(i=t-1;i>=0;i--)for(o=0;o<=A;o++){for(j=0,a=0;a<=Math.min(i,A);a++)j+=s.get(o,a)*n.get(a,i);s.set(o,i,j)}}}(o,l,a,i,t)}this.n=o,this.e=l,this.d=a,this.V=i}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,s=this.e,n=this.d,o=new y(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)o.set(t,e,0);o.set(t,t,n[t]),s[t]>0?o.set(t,t+1,s[t]):s[t]<0&&o.set(t,t-1,s[t])}return o}}function Y(t,e,r,s){let n,o;return Math.abs(r)>Math.abs(s)?(n=s/r,o=r+n*s,[(t+n*e)/o,(e-n*t)/o]):(n=r/s,o=s+n*r,[(n*t+e)/o,(n*e-t)/o])}class k{constructor(t){if(!(t=T.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,r,s,n=t,o=n.rows,i=new y(o,o),a=!0;for(r=0;r<o;r++){let t=0;for(s=0;s<r;s++){let o=0;for(e=0;e<s;e++)o+=i.get(s,e)*i.get(r,e);o=(n.get(r,s)-o)/i.get(s,s),i.set(r,s,o),t+=o*o}for(t=n.get(r,r)-t,a&&=t>0,i.set(r,r,Math.sqrt(Math.max(t,0))),s=r+1;s<o;s++)i.set(r,s,0)}this.L=i,this.positiveDefinite=a}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=T.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let s,n,o,i=t.columns,a=t.clone();for(o=0;o<r;o++)for(n=0;n<i;n++){for(s=0;s<o;s++)a.set(o,n,a.get(o,n)-a.get(s,n)*e.get(o,s));a.set(o,n,a.get(o,n)/e.get(o,o))}for(o=r-1;o>=0;o--)for(n=0;n<i;n++){for(s=o+1;s<r;s++)a.set(o,n,a.get(o,n)-a.get(s,n)*e.get(s,o));a.set(o,n,a.get(o,n)/e.get(o,o))}return a}get lowerTriangularMatrix(){return this.L}}class W{constructor(t,e={}){t=T.checkMatrix(t);let{Y:r}=e;const{scaleScores:n=!1,maxIterations:o=1e3,terminationCriteria:i=1e-10}=e;let a;if(r){if(r=s.isAnyArray(r)&&"number"==typeof r[0]?y.columnVector(r):T.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");a=r.getColumnVector(0)}else a=t.getColumnVector(0);let l,u,h,c,g=1;for(let e=0;e<o&&g>i;e++)h=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),h=h.div(h.norm()),l=t.mmul(h).div(h.transpose().mmul(h).get(0,0)),e>0&&(g=l.clone().sub(c).pow(2).sum()),c=l.clone(),r?(u=r.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),u=u.div(u.norm()),a=r.mmul(u).div(u.transpose().mmul(u).get(0,0))):a=l;if(r){let e=t.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));e=e.div(e.norm());let s=t.clone().sub(l.clone().mmul(e.transpose())),n=a.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),o=r.clone().sub(l.clone().mulS(n.get(0,0)).mmul(u.transpose()));this.t=l,this.p=e.transpose(),this.w=h.transpose(),this.q=u,this.u=a,this.s=l.transpose().mmul(l),this.xResidual=s,this.yResidual=o,this.betas=n}else this.w=h.transpose(),this.s=l.transpose().mmul(l).sqrt(),this.t=n?l.clone().div(this.s.get(0,0)):l,this.xResidual=t.sub(l.mmul(h.transpose()))}}e.AbstractMatrix=M,e.CHO=k,e.CholeskyDecomposition=k,e.DistanceMatrix=x,e.EVD=L,e.EigenvalueDecomposition=L,e.LU=j,e.LuDecomposition=j,e.Matrix=y,e.MatrixColumnSelectionView=class extends N{constructor(t,e){p(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},e.MatrixColumnView=class extends N{constructor(t,e){c(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}},e.MatrixFlipColumnView=class extends N{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},e.MatrixFlipRowView=class extends N{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},e.MatrixRowSelectionView=class extends N{constructor(t,e){f(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},e.MatrixRowView=class extends N{constructor(t,e){h(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},e.MatrixSelectionView=v,e.MatrixSubView=class extends N{constructor(t,e,r,s,n){w(t,e,r,s,n),super(t,r-e+1,n-s+1),this.startRow=e,this.startColumn=s}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}},e.MatrixTransposeView=class extends N{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},e.NIPALS=W,e.Nipals=W,e.QR=R,e.QrDecomposition=R,e.SVD=Z,e.SingularValueDecomposition=Z,e.SymmetricMatrix=C,e.WrapperMatrix1D=S,e.WrapperMatrix2D=T,e.correlation=function(t,e=t,r={}){t=new y(t);let n=!1;if("object"!=typeof e||y.isMatrix(e)||s.isAnyArray(e)?e=new y(e):(r=e,e=t,n=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:i=!0}=r;o&&(t.center("column"),n||e.center("column")),i&&(t.scale("column"),n||e.scale("column"));const a=t.standardDeviation("column",{unbiased:!0}),l=n?a:e.standardDeviation("column",{unbiased:!0}),u=t.transpose().mmul(e);for(let e=0;e<u.rows;e++)for(let r=0;r<u.columns;r++)u.set(e,r,u.get(e,r)*(1/(a[e]*l[r]))*(1/(t.rows-1)));return u},e.covariance=function(t,e=t,r={}){t=new y(t);let n=!1;if("object"!=typeof e||y.isMatrix(e)||s.isAnyArray(e)?e=new y(e):(r=e,e=t,n=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=r;o&&(t=t.center("column"),n||(e=e.center("column")));const i=t.transpose().mmul(e);for(let e=0;e<i.rows;e++)for(let r=0;r<i.columns;r++)i.set(e,r,i.get(e,r)*(1/(t.rows-1)));return i},e.default=y,e.determinant=function t(e){if((e=y.checkMatrix(e)).isSquare()){if(0===e.columns)return 1;let r,s,n,o;if(2===e.columns)return r=e.get(0,0),s=e.get(0,1),n=e.get(1,0),o=e.get(1,1),r*o-s*n;if(3===e.columns){let o,i,a;return o=new v(e,[1,2],[1,2]),i=new v(e,[1,2],[0,2]),a=new v(e,[1,2],[0,1]),r=e.get(0,0),s=e.get(0,1),n=e.get(0,2),r*t(o)-s*t(i)+n*t(a)}return new j(e).determinant}throw Error("determinant can only be calculated for a square matrix")},e.inverse=function(t,e=!1){return t=T.checkMatrix(t),e?new Z(t).inverse():E(t,y.eye(t.rows))},e.linearDependencies=function(t,e={}){const{thresholdValue:r=1e-9,thresholdError:s=1e-9}=e;let n=(t=y.checkMatrix(t)).rows,o=new y(n,n);for(let e=0;e<n;e++){let i=y.columnVector(t.getRow(e)),a=t.subMatrixRow(D(n,e)).transpose(),l=new Z(a).solve(i),u=y.sub(i,a.mmul(l)).abs().max();o.setRow(e,O(u,l,e,r,s))}return o},e.pseudoInverse=function(t,e=Number.EPSILON){if((t=y.checkMatrix(t)).isEmpty())return t.transpose();let r=new Z(t,{autoTranspose:!0}),s=r.leftSingularVectors,n=r.rightSingularVectors,o=r.diagonal;for(let t=0;t<o.length;t++)Math.abs(o[t])>e?o[t]=1/o[t]:o[t]=0;return n.mmul(y.diag(o).mmul(s.transpose()))},e.solve=E,e.wrap=function(t,e){if(s.isAnyArray(t))return t[0]&&s.isAnyArray(t[0])?new T(t):new S(t,e);throw new Error("the argument is not an array")}},680:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static drawCircle(t,e,r,s,n){t.beginPath(),t.arc(e[0],e[1],r,0,2*Math.PI,!0),t.strokeStyle=n,t.lineWidth=2,t.stroke(),t.closePath(),t.beginPath(),t.arc(e[0],e[1],s,0,2*Math.PI,!1),t.fillStyle=n,t.fill(),t.closePath()}static fillRect(t,e,r){const s=1.3*r;t.fillStyle="#f4d7d7",t.fillRect(e[0]-s,e[1]-s,2*s,2*s)}}},718:(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});var s=r(788);function n(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!(0,s.isAnyArray)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],l=n+1;l<i;l++)t[l]<a&&(a=t[l]);return a}(t),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],l=n+1;l<i;l++)t[l]>a&&(a=t[l]);return a}(t);if(n===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=r.min,a=void 0===i?r.autoMinMax?n:0:i,l=r.max,u=void 0===l?r.autoMinMax?o:1:l;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var h=(u-a)/(o-n),c=0;c<t.length;c++)e[c]=(t[c]-n)*h+a;return e}},777:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Labels=void 0,e.Labels={start:{en:"Start",ja:"","zh-TW":""},restart:{en:"Restart",ja:"","zh-TW":""},pause:{en:"Pause",ja:"","zh-TW":""},newexp:{en:"New Exp.",ja:"","zh-TW":""},quit:{en:"Quit",ja:"","zh-TW":""},with_response:{en:"Respond",ja:"","zh-TW":""},without_response:{en:"Not Respond",ja:"","zh-TW":""},speed:{en:"x speed",ja:"","zh-TW":""},msg_newexp:{en:"Do you want to start a new experiment?",ja:"?","zh-TW":"?"},msg_quit:{en:"Do you want to quit?",ja:"?","zh-TW":"?"},msg_close:{en:"Please close the browser or this tab",ja:"","zh-TW":""}}},788:(t,e,r)=>{r.r(e),r.d(e,{isAnyArray:()=>n});const s=Object.prototype.toString;function n(t){const e=s.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},791:t=>{var e,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(t,e,s)=>((t,e,s)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s)(t,"symbol"!=typeof e?e+"":e,s),a={};((t,e)=>{for(var s in e)r(t,s,{get:e[s],enumerable:!0})})(a,{ARC4RNG:()=>f,FunctionRNG:()=>u,MathRandomRNG:()=>p,RNG:()=>l,Random:()=>x,XOR128RNG:()=>w,createRNG:()=>h,default:()=>N,mixKey:()=>c,shuffleInPlace:()=>g,sparseFisherYates:()=>m}),t.exports=(e=a,((t,e,i,a)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let i of n(e))o.call(t,i)||undefined===i||r(t,i,{get:()=>e[i],enumerable:!(a=s(e,i))||a.enumerable});return t})(r({},"__esModule",{value:!0}),e));var l=class{},u=class t extends l{constructor(t){var e;super(),i(this,"_name"),i(this,"_rngFn"),this._name=null!=(e=t.name)?e:"function",this._rngFn=t}get name(){return this._name}next(){return this._rngFn()}clone(){return new t(this._rngFn)}};function h(t){switch(typeof t){case"object":if(t instanceof l)return t;break;case"function":return new u(t);default:return new f(t)}throw new Error(`invalid RNG seed or instance "${t}"`)}function c(t,e){var r;const s=`${t}`;let n=0,o=0;for(;o<s.length;)e[255&o]=255&(n^=19*(null!=(r=e[255&o])?r:0))+s.charCodeAt(o++);return e.length?e:[0]}function g(t,e){for(let r=e.length-1;r>0;r-=1){const s=Math.floor(t.next()*(r+1)),n=e[r];e[r]=e[s],e[s]=n}}function m(t,e,r){var s,n;const o=new Map,i=e.length-1,a=Array.from({length:r});for(let l=0;l<r;l++){const r=i-l+1,u=Math.floor(t.next()*r);a[l]=e[null!=(s=o.get(u))?s:u],o.set(u,null!=(n=o.get(i-l))?n:i-l)}return a}var f=class t extends l{constructor(t=crypto.randomUUID()){super(),i(this,"_seed"),i(this,"i"),i(this,"j"),i(this,"S"),this._seed=t;const e=c(t,[]),r=[],s=e.length;this.i=0,this.j=0,this.S=r;let n=0;for(;n<=255;)r[n]=n++;for(let t=0,n=0;t<=255;t++){const o=r[t];n=255&n+e[t%s]+o,r[t]=r[n],r[n]=o}this.g(256)}get name(){return"arc4"}next(){let t=this.g(6),e=281474976710656,r=0;for(;t<4503599627370496;)t=256*(t+r),e*=256,r=this.g(1);for(;t>=9007199254740992;)t/=2,e/=2,r>>>=1;return(t+r)/e}g(t){const{S:e}=this;let{i:r,j:s}=this,n=0;for(;t--;){r=255&r+1;const t=e[r];e[s]=t,s=255&s+t,e[r]=e[s],n=256*n+e[255&e[r]+t]}return this.i=r,this.j=s,n}clone(){return new t(this._seed)}},p=class t extends l{get name(){return"Math.random"}next(){return Math.random()}clone(){return new t}},w=class t extends l{constructor(t=crypto.randomUUID()){super(),i(this,"_seed"),i(this,"x"),i(this,"y"),i(this,"z"),i(this,"w"),this._seed=t,this.x=0,this.y=0,this.z=0,this.w=0;let e="";"number"==typeof t?this.x=t:e+=`${t}`;for(let t=0;t<e.length+64;++t)this.x^=0|e.charCodeAt(t),this.next()}get name(){return"xor128"}next(){const t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>>19^t^t>>>8,(this.w>>>0)/4294967296}clone(){return new t(this._seed)}};function d(t){return new I(t)}var I=class{constructor(t){i(this,"n"),i(this,"isInt",(()=>{if(Number.isInteger(this.n))return this;throw new Error(`Expected number to be an integer, got ${this.n}`)})),i(this,"isPositive",(()=>{if(this.n>0)return this;throw new Error(`Expected number to be positive, got ${this.n}`)})),i(this,"lessThan",(t=>{if(this.n<t)return this;throw new Error(`Expected number to be less than ${t}, got ${this.n}`)})),i(this,"lessThanOrEqual",(t=>{if(this.n<=t)return this;throw new Error(`Expected number to be less than or equal to ${t}, got ${this.n}`)})),i(this,"greaterThanOrEqual",(t=>{if(this.n>=t)return this;throw new Error(`Expected number to be greater than or equal to ${t}, got ${this.n}`)})),i(this,"greaterThan",(t=>{if(this.n>t)return this;throw new Error(`Expected number to be greater than ${t}, got ${this.n}`)})),this.n=t}},b=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],M=t=>b[t];function A(t,e=0,r=1){return()=>t.next()*(r-e)+e}function y(t){return()=>t.next()>=.5}function C(t,e=0,r=1){return void 0===r&&(r=void 0===e?1:e,e=0),d(e).isInt(),d(r).isInt(),()=>Math.floor(t.next()*(r-e+1)+e)}var x=class t{constructor(t=new p){i(this,"_rng"),i(this,"_cache",{}),this._rng=h(t)}get rng(){return this._rng}clone(e=this.rng.clone()){return new t(e)}use(t){this._rng=h(t),this._cache={}}next(){return this._rng.next()}float(t,e){return this.uniform(t,e)()}int(t,e){return this.uniformInt(t,e)()}integer(t,e){return this.uniformInt(t,e)()}bool(){return this.uniformBoolean()()}boolean(){return this.uniformBoolean()()}choice(t){if(!Array.isArray(t))throw new TypeError("Random.choice expected input to be an array, got "+typeof t);const e=t.length;if(e>0)return t[this.uniformInt(0,e-1)()]}sample(t,e){if(!Array.isArray(t))throw new TypeError("Random.sample expected input to be an array, got "+typeof t);if(e<0||e>t.length)throw new Error(`Random.sample: k must be between 0 and array.length (${t.length}), got ${e}`);return m(this.rng,t,e)}sampler(t,e){if(!Array.isArray(t))throw new TypeError("Random.sampler expected input to be an array, got "+typeof t);if(e<0||e>t.length)throw new Error(`Random.sampler: k must be between 0 and array.length (${t.length}), got ${e}`);const r=this.rng;return()=>m(r,t,e)}shuffle(t){if(!Array.isArray(t))throw new TypeError("Random.shuffle expected input to be an array, got "+typeof t);const e=[...t];return g(this.rng,e),e}shuffler(t){if(!Array.isArray(t))throw new TypeError("Random.shuffler expected input to be an array, got "+typeof t);const e=this.rng,r=[...t];return()=>(g(e,r),[...r])}uniform(t,e){return this._memoize("uniform",A,t,e)}uniformInt(t,e){return this._memoize("uniformInt",C,t,e)}uniformBoolean(){return this._memoize("uniformBoolean",y)}normal(t,e){return function(t,e=0,r=1){return()=>{let s,n,o;do{s=2*t.next()-1,n=2*t.next()-1,o=s*s+n*n}while(!o||o>1);return e+r*n*Math.sqrt(-2*Math.log(o)/o)}}(this,t,e)}logNormal(t,e){return function(t,e=0,r=1){const s=t.normal(e,r);return()=>Math.exp(s())}(this,t,e)}bernoulli(t){return function(t,e=.5){return d(e).greaterThanOrEqual(0).lessThanOrEqual(1),()=>Math.min(1,Math.floor(t.next()+e))}(this,t)}binomial(t,e){return function(t,e=1,r=.5){return d(e).isInt().isPositive(),d(r).greaterThanOrEqual(0).lessThan(1),()=>{let s=0,n=0;for(;s++<e;)t.next()<r&&n++;return n}}(this,t,e)}geometric(t){return function(t,e=.5){d(e).greaterThan(0).lessThan(1);const r=1/Math.log(1-e);return()=>Math.floor(1+Math.log(t.next())*r)}(this,t)}poisson(t){return function(t,e=1){if(d(e).isPositive(),e<10){const r=Math.exp(-e);return()=>{let s=r,n=0,o=t.next();for(;o>s;)o-=s,s=e*s/++n;return n}}{const r=Math.sqrt(e),s=.931+2.53*r,n=.02483*s-.059,o=1.1239+1.1328/(s-3.4),i=.9277-3.6224/(s-2);return()=>{for(var a;;){let l,u=t.next();if(u<=.86*i)return l=u/i-.43,Math.floor((2*n/(.5-Math.abs(l))+s)*l+e+.445);u>=i?l=t.next()-.5:(l=u/i-.93,l=(l<0?-.5:.5)-l,u=t.next()*i);const h=.5-Math.abs(l);if(h<.013&&u>h)continue;const c=Math.floor((2*n/h+s)*l+e+.445);if(u=u*o/(n/(h*h)+s),c>=10){const t=(c+.5)*Math.log(e/c)-e-.9189385332046727+c-(1/12-(1/360-1/(1260*c*c))/(c*c))/c;if(Math.log(u*r)<=t)return c}else if(c>=0){const t=null!=(a=M(c))?a:0;if(Math.log(u)<=c*Math.log(e)-e-t)return c}}}}}(this,t)}exponential(t){return function(t,e=1){return d(e).isPositive(),()=>-Math.log(1-t.next())/e}(this,t)}irwinHall(t){return function(t,e=1){return d(e).isInt().greaterThanOrEqual(0),()=>{let r=0;for(let s=0;s<e;++s)r+=t.next();return r}}(this,t)}bates(t){return function(t,e=1){d(e).isInt().isPositive();const r=t.irwinHall(e);return()=>r()/e}(this,t)}pareto(t){return function(t,e=1){d(e).greaterThanOrEqual(0);const r=1/e;return()=>1/Math.pow(1-t.next(),r)}(this,t)}weibull(t,e){return function(t,e,r){return d(e).greaterThan(0),d(r).greaterThan(0),()=>{const s=1-t.next();return e*Math.pow(-Math.log(s),1/r)}}(this,t,e)}_memoize(t,e,...r){const s=`${r.join(";")}`;let n=this._cache[t];return void 0!==n&&n.key===s||(n={key:s,distribution:e(this,...r)},this._cache[t]=n),n.distribution}},N=new x},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var s="";r.supports&&(s+="@supports (".concat(r.supports,") {")),r.media&&(s+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(s+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),s+=r.css,n&&(s+="}"),r.media&&(s+="}"),r.supports&&(s+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},849:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.clearStorageTimer=e.getStorageTimer=e.setStorageTimer=e.getStorageParam=e.setStorageParam=e.clearStorage=e.getStorageSpeed=e.setStorageSpeed=e.getStorageLang=e.setStorageLang=void 0;const r="SimLaLang",s="SimLaSpeed",n="SimLaParam",o="SimLaTime";e.setStorageLang=function(t){localStorage.setItem(r,t)},e.getStorageLang=function(){return localStorage.getItem(r)||"en"},e.setStorageSpeed=function(t){localStorage.setItem(s,t)},e.getStorageSpeed=function(){return localStorage.getItem(s)||"1"},e.clearStorage=function(){localStorage.removeItem(r),localStorage.removeItem(s),localStorage.removeItem(n)},e.setStorageParam=function(t){localStorage.setItem(n,t)},e.getStorageParam=function(){return localStorage.getItem(n)||"{}"},e.setStorageTimer=function(t){localStorage.setItem(o,t)},e.getStorageTimer=function(){return localStorage.getItem(o)||"{}"},e.clearStorageTimer=function(){localStorage.removeItem(o)}},931:function(t,e,r){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(r(581));r(162),window.onload=()=>{(new n.default).start()}}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={id:s,exports:{}};return t[s].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.b="undefined"!=typeof document&&document.baseURI||self.location.href,r.nc=void 0,r(931)})();